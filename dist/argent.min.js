(function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.Argent=r()})(this,function(){"use strict";var _Stringprototype=String.prototype;function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t,n=0;n<r.length;n++)t=r[n],t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null==arguments[r]?{}:arguments[r],n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){_defineProperty(e,r,t[r])})}return e}function createCommonjsModule(e,r){return r={exports:{}},e(r,r.exports),r.exports}function make_assign(){return Object.assign?Object.assign:function(e){for(var r=1;r<arguments.length;r++)each(Object(arguments[r]),function(r,t){e[t]=r});return e}}function make_create(){if(Object.create)return function(e){var r=slice(arguments,1);return assign.apply(this,[Object.create(e)].concat(r))};function e(){}return function(r){var t=slice(arguments,1);return e.prototype=r,assign.apply(this,[new e].concat(t))}}function make_trim(){return _Stringprototype.trim?function(e){return _Stringprototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function bind(e,r){return function(){return r.apply(e,Array.prototype.slice.call(arguments,0))}}function slice(e,r){return Array.prototype.slice.call(e,r||0)}function each(e,r){pluck(e,function(e,t){return r(e,t),!1})}function map(e,r){var t=isList(e)?[]:{};return pluck(e,function(e,n){return t[n]=r(e,n),!1}),t}function pluck(e,r){if(isList(e)){for(var t=0;t<e.length;t++)if(r(e[t],t))return e[t];}else for(var n in e)if(e.hasOwnProperty(n)&&r(e[n],n))return e[n]}function isList(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function isObject(e){return e&&"[object Object]"==={}.toString.call(e)}function _warn(){var e="undefined"==typeof console?null:console;if(e){var r=e.warn?e.warn:e.log;r.apply(e,arguments)}}function createStore(e,r,t){t||(t=""),e&&!isList$1(e)&&(e=[e]),r&&!isList$1(r)&&(r=[r]);var n=t?"__storejs_"+t+"_":"",a=t?new RegExp("^"+n):null,o=/^[a-zA-Z0-9_\-]*$/;if(!o.test(t))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var i=create$1({_namespacePrefix:n,_namespaceRegexp:a,_testStorage:function(e){try{e.write("__storejs__test__","__storejs__test__");var r="__storejs__test__"===e.read("__storejs__test__");return e.remove("__storejs__test__"),r}catch(r){return!1}},_assignPluginFnProp:function(e,r){var t=this[r];this[r]=function(){var r=slice$1(arguments,0),n=this,a=[function(){if(t)return each$1(arguments,function(e,t){r[t]=e}),t.apply(n,r)}].concat(r);return e.apply(n,a)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(r,t){if(!r)return t;var n="";try{n=JSON.parse(r)}catch(t){n=r}return void 0===n?t:n},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var r=this;if(isList$1(e))return void each$1(e,function(e){r._addPlugin(e)});var t=pluck$1(this.plugins,function(r){return e===r});if(!t){if(this.plugins.push(e),!isFunction$1(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!isObject$1(n))throw new Error("Plugins must return an object of function properties");each$1(n,function(t,n){if(!isFunction$1(t))throw new Error("Bad plugin property: "+n+" from plugin "+e.name+". Plugins should only return functions.");r._assignPluginFnProp(t,n)})}},addStorage:function(e){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},storeAPI,{plugins:[]});return i.raw={},each$1(i,function(e,r){isFunction$1(e)&&(i.raw[r]=bind$1(i,e))}),each$1(e,function(e){i._addStorage(e)}),each$1(r,function(e){i._addPlugin(e)}),i}function localStorage(){return Global$1.localStorage}function read(e){return localStorage().getItem(e)}function write(e,r){return localStorage().setItem(e,r)}function each$2(e){for(var r,t=localStorage().length-1;0<=t;t--)r=localStorage().key(t),e(read(r),r)}function remove(e){return localStorage().removeItem(e)}function clearAll(){return localStorage().clear()}function read$1(e){return globalStorage[e]}function write$1(e,r){globalStorage[e]=r}function each$3(e){for(var r,t=globalStorage.length-1;0<=t;t--)r=globalStorage.key(t),e(globalStorage[r],r)}function remove$1(e){return globalStorage.removeItem(e)}function clearAll$1(){each$3(function(e){delete globalStorage[e]})}function write$2(e,r){if(!disable){var t=fixKey(e);_withStorageEl(function(e){e.setAttribute(t,r),e.save("storejs")})}}function read$2(e){if(!disable){var r=fixKey(e),t=null;return _withStorageEl(function(e){t=e.getAttribute(r)}),t}}function each$4(e){_withStorageEl(function(r){for(var t,n=r.XMLDocument.documentElement.attributes,a=n.length-1;0<=a;a--)t=n[a],e(r.getAttribute(t.name),t.name)})}function remove$2(e){var r=fixKey(e);_withStorageEl(function(e){e.removeAttribute(r),e.save("storejs")})}function clearAll$2(){_withStorageEl(function(e){var r=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var t=r.length-1;0<=t;t--)e.removeAttribute(r[t].name);e.save("storejs")})}function fixKey(e){return e.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}function _makeIEStorageElFunction(){if(!doc||!doc.documentElement||!doc.documentElement.addBehavior)return null;var r,t,n;try{t=new ActiveXObject("htmlfile"),t.open(),t.write("<script>document.w=window</script><iframe src=\"/favicon.ico\"></iframe>"),t.close(),r=t.w.frames[0].document,n=r.createElement("div")}catch(t){n=doc.createElement("div"),r=doc.body}return function(e){var t=[].slice.call(arguments,0);return t.unshift(n),r.appendChild(n),n.addBehavior("#default#userData"),n.load("storejs"),e.apply(this,t),void r.removeChild(n)}}function read$3(e){if(!e||!_has(e))return null;var r="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc$1.cookie.replace(new RegExp(r),"$1"))}function each$5(e){for(var r=doc$1.cookie.split(/; ?/g),t=r.length-1;0<=t;t--)if(trim$1(r[t])){var n=r[t].split("="),a=unescape(n[0]),o=unescape(n[1]);e(o,a)}}function write$3(e,r){e&&(doc$1.cookie=escape(e)+"="+escape(r)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove$3(e){e&&_has(e)&&(doc$1.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll$3(){each$5(function(e,r){remove$3(r)})}function _has(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc$1.cookie)}function sessionStorage(){return Global$5.sessionStorage}function read$4(e){return sessionStorage().getItem(e)}function write$4(e,r){return sessionStorage().setItem(e,r)}function each$6(e){for(var r,t=sessionStorage().length-1;0<=t;t--)r=sessionStorage().key(t),e(read$4(r),r)}function remove$4(e){return sessionStorage().removeItem(e)}function clearAll$4(){return sessionStorage().clear()}function read$5(e){return memoryStorage[e]}function write$5(e,r){memoryStorage[e]=r}function each$7(e){for(var r in memoryStorage)memoryStorage.hasOwnProperty(r)&&e(memoryStorage[r],r)}function remove$5(e){delete memoryStorage[e]}function clearAll$5(){memoryStorage={}}function json2Plugin(){return{}}var commonjsGlobal="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,assign=make_assign(),create=make_create(),trim=make_trim(),Global="undefined"==typeof window?commonjsGlobal:window,util={assign:assign,create:create,trim:trim,bind:bind,slice:slice,each:each,map:map,pluck:pluck,isList:isList,isFunction:isFunction,isObject:isObject,Global:Global},slice$1=util.slice,pluck$1=util.pluck,each$1=util.each,bind$1=util.bind,create$1=util.create,isList$1=util.isList,isFunction$1=util.isFunction,isObject$1=util.isObject,storeEngine={createStore:createStore},storeAPI={version:"2.0.12",enabled:!1,get:function(e,r){var t=this.storage.read(this._namespacePrefix+e);return this._deserialize(t,r)},set:function(e,r){return void 0===r?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(r)),r)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var r=this;this.storage.each(function(t,n){e.call(r,r._deserialize(t),(n||"").replace(r._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return createStore.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return createStore(this.storage,this.plugins,e)}},Global$1=util.Global,localStorage_1={name:"localStorage",read:read,write:write,each:each$2,remove:remove,clearAll:clearAll},Global$2=util.Global,oldFFGlobalStorage={name:"oldFF-globalStorage",read:read$1,write:write$1,each:each$3,remove:remove$1,clearAll:clearAll$1},globalStorage=Global$2.globalStorage,Global$3=util.Global,oldIEUserDataStorage={name:"oldIE-userDataStorage",write:write$2,read:read$2,each:each$4,remove:remove$2,clearAll:clearAll$2},storageName="storejs",doc=Global$3.document,_withStorageEl=_makeIEStorageElFunction(),disable=(Global$3.navigator?Global$3.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),forbiddenCharsRegex=/[!"#$%&'()*+,\/\\:;<=>?@[\]^`{|}~]/g,Global$4=util.Global,trim$1=util.trim,cookieStorage={name:"cookieStorage",read:read$3,write:write$3,each:each$5,remove:remove$3,clearAll:clearAll$3},doc$1=Global$4.document,Global$5=util.Global,sessionStorage_1={name:"sessionStorage",read:read$4,write:write$4,each:each$6,remove:remove$4,clearAll:clearAll$4},memoryStorage_1={name:"memoryStorage",read:read$5,write:write$5,each:each$7,remove:remove$5,clearAll:clearAll$5},memoryStorage={},all=[localStorage_1,oldFFGlobalStorage,oldIEUserDataStorage,cookieStorage,sessionStorage_1,memoryStorage_1];"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?"\""+e.replace(rx_escapable,function(e){var r=meta[e];return"string"==typeof r?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"\"":"\""+e+"\""}function str(e,r){var t,n,a,o,l,s=gap,c=r[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(r,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?c+"":"null";case"boolean":case"null":return c+"";case"object":if(!c)return"null";if(gap+=indent,l=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,t=0;t<o;t+=1)l[t]=str(t,c)||"null";return a=0===l.length?"[]":gap?"[\n"+gap+l.join(",\n"+gap)+"\n"+s+"]":"["+l.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,t=0;t<o;t+=1)"string"==typeof rep[t]&&(n=rep[t],a=str(n,c),a&&l.push(quote(n)+(gap?": ":":")+a));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(a=str(n,c),a&&l.push(quote(n)+(gap?": ":":")+a));return a=0===l.length?"{}":gap?"{\n"+gap+l.join(",\n"+gap)+"\n"+s+"}":"{"+l.join(",")+"}",gap=s,a;}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,_Stringprototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"":"\\b","	":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"},JSON.stringify=function(e,r,t){var n;if(gap="",indent="","number"==typeof t)for(n=0;n<t;n+=1)indent+=" ";else"string"==typeof t&&(indent=t);if(rep=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,r){var t,n,a=e[r];if(a&&"object"==typeof a)for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n=walk(a,t),void 0===n?delete a[t]:a[t]=n);return reviver.call(e,r,a)}var j;if(text+="",rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var json2=json2Plugin,plugins=[json2],store_legacy=storeEngine.createStore(all,plugins),numeral=createCommonjsModule(function(e){(function(r,t){e.exports?e.exports=t():r.numeral=t()})(commonjsGlobal,function(){var r=Math.round,t=Math.min,n=Math.pow,a=Math.abs;function e(e,r){this._input=e,this._value=r}var o,i,l={},s={},c={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:c.currentLocale,zeroFormat:c.zeroFormat,nullFormat:c.nullFormat,defaultFormat:c.defaultFormat,scalePercentBy100:c.scalePercentBy100};return o=function(r){var t,n,a,s;if(o.isNumeral(r))t=r.value();else if(0===r||"undefined"==typeof r)t=0;else if(null===r||i.isNaN(r))t=null;else if("string"!=typeof r)t=+r||null;else if(u.zeroFormat&&r===u.zeroFormat)t=0;else if(u.nullFormat&&r===u.nullFormat||!r.replace(/[^0-9]+/g,"").length)t=null;else{for(n in l)if(s="function"==typeof l[n].regexps.unformat?l[n].regexps.unformat():l[n].regexps.unformat,s&&r.match(s)){a=l[n].unformat;break}a=a||o._.stringToNumber,t=a(r)}return new e(r,t)},o.version="2.0.6",o.isNumeral=function(r){return r instanceof e},o._=i={numberToFormat:function(e,r,t){var n,l,c,u,d,m,f,p=s[o.options.currentLocale],g=!1,y=!1,h=0,b="",_="",v=!1;if(e=e||0,l=a(e),o._.includes(r,"(")?(g=!0,r=r.replace(/[\(|\)]/g,"")):(o._.includes(r,"+")||o._.includes(r,"-"))&&(d=o._.includes(r,"+")?r.indexOf("+"):0>e?r.indexOf("-"):-1,r=r.replace(/[\+|\-]/g,"")),o._.includes(r,"a")&&(n=r.match(/a(k|m|b|t)?/),n=!!n&&n[1],o._.includes(r," a")&&(b=" "),r=r.replace(new RegExp(b+"a[kmbt]?"),""),1000000000000<=l&&!n||"t"===n?(b+=p.abbreviations.trillion,e/=1000000000000):1000000000000>l&&1000000000<=l&&!n||"b"===n?(b+=p.abbreviations.billion,e/=1000000000):1000000000>l&&1000000<=l&&!n||"m"===n?(b+=p.abbreviations.million,e/=1000000):(1000000>l&&1000<=l&&!n||"k"===n)&&(b+=p.abbreviations.thousand,e/=1000)),o._.includes(r,"[.]")&&(y=!0,r=r.replace("[.]",".")),c=e.toString().split(".")[0],u=r.split(".")[1],m=r.indexOf(","),h=(r.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(o._.includes(u,"[")?(u=u.replace("]",""),u=u.split("["),_=o._.toFixed(e,u[0].length+u[1].length,t,u[1].length)):_=o._.toFixed(e,u.length,t),c=_.split(".")[0],_=o._.includes(_,".")?p.delimiters.decimal+_.split(".")[1]:"",y&&0===+_.slice(1)&&(_="")):c=o._.toFixed(e,0,t),b&&!n&&1e3<=+c&&b!==p.abbreviations.trillion&&(c=+c/1e3+"",b===p.abbreviations.thousand?b=p.abbreviations.million:b===p.abbreviations.million?b=p.abbreviations.billion:b===p.abbreviations.billion?b=p.abbreviations.trillion:void 0),(o._.includes(c,"-")&&(c=c.slice(1),v=!0),c.length<h))for(var S=h-c.length;0<S;S--)c="0"+c;return-1<m&&(c=c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===r.indexOf(".")&&(c=""),f=c+_+(b?b:""),g?f=(g&&v?"(":"")+f+(g&&v?")":""):0<=d?f=0===d?(v?"-":"+")+f:f+(v?"-":"+"):v&&(f="-"+f),f},stringToNumber:function(e){var r,a,o,i=s[u.currentLocale],l=e,c={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&e===u.zeroFormat)a=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)a=null;else{for(r in a=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,".")),c)if(o=new RegExp("[^a-zA-Z]"+i.abbreviations[r]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),l.match(o)){a*=n(10,c[r]);break}a*=(e.split("-").length+t(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),a*=+e}return a},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,r){return-1!==e.indexOf(r)},insert:function(e,r,t){return e.slice(0,t)+r+e.slice(t)},reduce:function(e,r){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof r)throw new TypeError(r+" is not a function");var n,a=Object(e),t=a.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<t&&!(o in a);)o++;if(o>=t)throw new TypeError("Reduce of empty array with no initial value");n=a[o++]}for(;o<t;o++)o in a&&(n=r(n,a[o],o,a));return n},multiplier:function(e){var r=e.toString().split(".");return 2>r.length?1:n(10,r[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,r){var t=i.multiplier(r);return e>t?e:t},1)},toFixed:function(e,r,a,o){var l,s,c,u,i=Math.max,d=e.toString().split("."),m=r-(o||0);return l=2===d.length?t(i(d[1].length,m),r):m,c=n(10,l),u=(a(e+"e+"+l)/c).toFixed(l),o>r-l&&(s=new RegExp("\\.?0{1,"+(o-(r-l))+"}$"),u=u.replace(s,"")),u}},o.options=u,o.formats=l,o.locales=s,o.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},o.localeData=function(e){if(!e)return s[u.currentLocale];if(e=e.toLowerCase(),!s[e])throw new Error("Unknown locale : "+e);return s[e]},o.reset=function(){for(var e in c)u[e]=c[e]},o.zeroFormat=function(e){u.zeroFormat="string"==typeof e?e:null},o.nullFormat=function(e){u.nullFormat="string"==typeof e?e:null},o.defaultFormat=function(e){u.defaultFormat="string"==typeof e?e:"0.0"},o.register=function(e,r,t){if(r=r.toLowerCase(),this[e+"s"][r])throw new TypeError(r+" "+e+" already registered.");return this[e+"s"][r]=t,t},o.validate=function(e,r){var t,n,a,i,l,s,c,u;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),!!e.match(/^\d+$/))return!0;if(""===e)return!1;try{c=o.localeData(r)}catch(r){c=o.localeData(o.locale())}return(a=c.currency.symbol,l=c.abbreviations,t=c.delimiters.decimal,n="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,u=e.match(/^[^\d]+/),!(null!==u&&(e=e.substr(1),u[0]!==a)))&&(u=e.match(/[^\d]+$/),!(null!==u&&(e=e.slice(0,-1),u[0]!==l.thousand&&u[0]!==l.million&&u[0]!==l.billion&&u[0]!==l.trillion)))&&(s=new RegExp(n+"{2}"),!e.match(/[^\d.,]/g)&&(i=e.split(t),!(2<i.length)&&(2>i.length?!!i[0].match(/^\d+.*\d$/)&&!i[0].match(s):1===i[0].length?!!i[0].match(/^\d+$/)&&!i[0].match(s)&&!!i[1].match(/^\d+$/):!!i[0].match(/^\d+.*\d$/)&&!i[0].match(s)&&!!i[1].match(/^\d+$/))))},o.fn=e.prototype={clone:function(){return o(this)},format:function(e,t){var n,a,i,s=this._value,c=e||u.defaultFormat;if(t=t||r,0===s&&null!==u.zeroFormat)a=u.zeroFormat;else if(null===s&&null!==u.nullFormat)a=u.nullFormat;else{for(n in l)if(c.match(l[n].regexps.format)){i=l[n].format;break}i=i||o._.numberToFormat,a=i(s,c,t)}return a},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=+e,this},add:function(e){var t=i.correctionFactor.call(null,this._value,e);return this._value=i.reduce([this._value,e],function(e,n){return e+r(t*n)},0)/t,this},subtract:function(e){var t=i.correctionFactor.call(null,this._value,e);return this._value=i.reduce([e],function(e,n){return e-r(t*n)},r(this._value*t))/t,this},multiply:function(e){function t(e,t){var n=i.correctionFactor(e,t);return r(e*n)*r(t*n)/r(n*n)}return this._value=i.reduce([this._value,e],t,1),this},divide:function(e){function t(e,t){var n=i.correctionFactor(e,t);return r(e*n)/r(t*n)}return this._value=i.reduce([this._value,e],t),this},difference:function(e){return a(o(this._value).subtract(e).value())}},o.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var r=e%10;return 1==~~(e%100/10)?"th":1==r?"st":2==r?"nd":3==r?"rd":"th"},currency:{symbol:"$"}}),function(){o.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,r,t){var n,a=o._.includes(r," BPS")?" ":"";return e*=1e4,r=r.replace(/\s?BPS/,""),n=o._.numberToFormat(e,r,t),o._.includes(n,")")?(n=n.split(""),n.splice(-1,0,a+"BPS"),n=n.join("")):n=n+a+"BPS",n},unformat:function(e){return+(1e-4*o._.stringToNumber(e)).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t=e.suffixes.concat(r.suffixes.filter(function(r){return 0>e.suffixes.indexOf(r)})),a=t.join("|");a="("+a.replace("B","B(?!PS)")+")",o.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(a)},format:function(t,a,i){var l,s,c,u,d=o._.includes(a,"ib")?r:e,m=o._.includes(a," b")||o._.includes(a," ib")?" ":"";for(a=a.replace(/\s?i?b/,""),s=0;s<=d.suffixes.length;s++)if(c=n(d.base,s),u=n(d.base,s+1),null===t||0===t||t>=c&&t<u){m+=d.suffixes[s],0<c&&(t/=c);break}return l=o._.numberToFormat(t,a,i),l+m},unformat:function(t){var a,i,l=o._.stringToNumber(t);if(l){for(a=e.suffixes.length-1;0<=a;a--){if(o._.includes(t,e.suffixes[a])){i=n(e.base,a);break}if(o._.includes(t,r.suffixes[a])){i=n(r.base,a);break}}l*=i||1}return l}})}(),function(){o.register("format","currency",{regexps:{format:/(\$)/},format:function(e,r,t){var n,a,l,s=o.locales[o.options.currentLocale],c={before:r.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:r.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(r=r.replace(/\s?\$\s?/,""),n=o._.numberToFormat(e,r,t),0<=e?(c.before=c.before.replace(/[\-\(]/,""),c.after=c.after.replace(/[\-\)]/,"")):0>e&&!o._.includes(c.before,"-")&&!o._.includes(c.before,"(")&&(c.before="-"+c.before),l=0;l<c.before.length;l++)a=c.before[l],"$"===a?n=o._.insert(n,s.currency.symbol,l):" "===a?n=o._.insert(n," ",l+s.currency.symbol.length-1):void 0;for(l=c.after.length-1;0<=l;l--)a=c.after[l],"$"===a?n=l===c.after.length-1?n+s.currency.symbol:o._.insert(n,s.currency.symbol,-(c.after.length-(1+l))):" "===a?n=l===c.after.length-1?n+" ":o._.insert(n," ",-(c.after.length-(1+l)+s.currency.symbol.length-1)):void 0;return n}})}(),function(){o.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,r,t){var n,a="number"!=typeof e||o._.isNaN(e)?"0e+0":e.toExponential(),i=a.split("e");return r=r.replace(/e[\+|\-]{1}0/,""),n=o._.numberToFormat(+i[0],r,t),n+"e"+i[1]},unformat:function(e){function r(e,r){var t=o._.correctionFactor(e,r);return e*t*(r*t)/(t*t)}var t=o._.includes(e,"e+")?e.split("e+"):e.split("e-"),a=+t[0],i=+t[1];return i=o._.includes(e,"e-")?i*=-1:i,o._.reduce([a,n(10,i)],r,1)}})}(),function(){o.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,r,t){var n,a=o.locales[o.options.currentLocale],i=o._.includes(r," o")?" ":"";return r=r.replace(/\s?o/,""),i+=a.ordinal(e),n=o._.numberToFormat(e,r,t),n+i}})}(),function(){o.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,r,t){var n,a=o._.includes(r," %")?" ":"";return o.options.scalePercentBy100&&(e*=100),r=r.replace(/\s?\%/,""),n=o._.numberToFormat(e,r,t),o._.includes(n,")")?(n=n.split(""),n.splice(-1,0,a+"%"),n=n.join("")):n=n+a+"%",n},unformat:function(e){var r=o._.stringToNumber(e);return o.options.scalePercentBy100?.01*r:r}})}(),function(){o.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e){var t=Math.floor,n=t(e/60/60),a=t((e-60*(60*n))/60),o=r(e-60*(60*n)-60*a);return n+":"+(10>a?"0"+a:a)+":"+(10>o?"0"+o:o)},unformat:function(e){var r=e.split(":"),t=0;return 3===r.length?(t+=60*(60*+r[0]),t+=60*+r[1],t+=+r[2]):2===r.length&&(t+=60*+r[0],t+=+r[1]),+t}})}(),o})});(function(e){function r(e){e=e||"",(e instanceof URLSearchParams||e instanceof r)&&(e=e.toString()),this.__URLSearchParams__=o(e)}function t(e){var r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return r[e]})}function n(e){return decodeURIComponent(e.replace(/\+/g," "))}function a(r){var t={next:function(){var e=r.shift();return{done:void 0===e,value:e}}};return m&&(t[e.Symbol.iterator]=function(){return t}),t}function o(e){var r={};if("object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&i(r,t,e[t]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var a=e.split("&"),o=0;o<a.length;o++){var l=a[o],s=l.indexOf("=");-1<s?i(r,n(l.slice(0,s)),n(l.slice(s+1))):l&&i(r,n(l),"")}}return r}function i(e,r,t){var n="string"==typeof t?t:null!==t&&t!==void 0&&"function"==typeof t.toString?t.toString():JSON.stringify(t);r in e?e[r].push(n):e[r]=[n]}var l=e.URLSearchParams?e.URLSearchParams:null,s=l&&"a=1"===new l({a:1}).toString(),c=l&&"+"===new l("s=%2B").get("s"),u=!l||function(){var e=new l;return e.append("s"," &"),"s=+%26"===e.toString()}(),d=r.prototype,m=!!(e.Symbol&&e.Symbol.iterator);if(!(l&&s&&c&&u)){d.append=function(e,r){i(this.__URLSearchParams__,e,r)},d.delete=function(e){delete this.__URLSearchParams__[e]},d.get=function(e){var r=this.__URLSearchParams__;return e in r?r[e][0]:null},d.getAll=function(e){var r=this.__URLSearchParams__;return e in r?r[e].slice(0):[]},d.has=function(e){return e in this.__URLSearchParams__},d.set=function(e,r){this.__URLSearchParams__[e]=[""+r]},d.toString=function(){var e,r,n,a,o=this.__URLSearchParams__,l=[];for(r in o)for(n=t(r),e=0,a=o[r];e<a.length;e++)l.push(n+"="+t(a[e]));return l.join("&")};var f=!!c&&l&&!s&&e.Proxy;e.URLSearchParams=f?new Proxy(l,{construct:function(e,t){return new e(new r(t[0]).toString())}}):r;var p=e.URLSearchParams.prototype;p.polyfill=!0,p.forEach=p.forEach||function(e,r){var t=o(this.toString());Object.getOwnPropertyNames(t).forEach(function(n){t[n].forEach(function(t){e.call(r,t,n,this)},this)},this)},p.sort=p.sort||function(){var e,r,t,n=o(this.toString()),a=[];for(e in n)a.push(e);for(a.sort(),r=0;r<a.length;r++)this.delete(a[r]);for(r=0;r<a.length;r++){var l=a[r],s=n[l];for(t=0;t<s.length;t++)this.append(l,s[t])}},p.keys=p.keys||function(){var e=[];return this.forEach(function(r,t){e.push(t)}),a(e)},p.values=p.values||function(){var e=[];return this.forEach(function(r){e.push(r)}),a(e)},p.entries=p.entries||function(){var e=[];return this.forEach(function(r,t){e.push([t,r])}),a(e)},m&&(p[e.Symbol.iterator]=p[e.Symbol.iterator]||p.entries)}})("undefined"==typeof commonjsGlobal?"undefined"==typeof window?commonjsGlobal:window:commonjsGlobal);var Argent=function(){function e(r){if(_classCallCheck(this,e),this.rates=r.rates,!this.rates)throw new Error("You must set rates when instantiating Argent");if(this.baseCurrency=r.baseCurrency,this.hideCodeForBase=r.hideCodeForBase,!this.baseCurrency)throw new Error("You must set baseCurrency when instantiating Argent");this.defaultCurrency=r.defaultCurrency?r.defaultCurrency:r.baseCurrency,this.baseFormat=r.baseFormat?r.defaultBaseFormat:"0,0.00",this.convertedFormat=r.convertedFormat?r.convertedFormat:"0,0",this.formats=this.defaultFormats(),r.formats&&(this.formats=_objectSpread({},this.formats,r.formats)),this.currency=this.checkCurrency(this.resolveCurrency())}return _createClass(e,[{key:"defaultFormats",value:function(){return{AUD:{symbol:"$",code:"AUD"},USD:{symbol:"$",code:"USD"},GBP:{symbol:"\xA3",code:"GBP"},EUR:{symbol:"\u20AC",code:"EUR"},CAD:{symbol:"$",code:"CAD"}}}},{key:"resolveCurrency",value:function(){var e=new URLSearchParams(window.location.search).get("currency");if(e)return store_legacy.set("currency",e),e;var r=store_legacy.get("currency");return r?r:this.defaultCurrency}},{key:"checkCurrency",value:function(e){if(!this.rates[e]||!this.formats[e])throw store_legacy.remove("currency"),new Error("No rate and/or format provided for selected currency ".concat(e));return e}},{key:"parse",value:function(e){return numeral(e)}},{key:"convert",value:function(e,r,t){return e.clone().multiply(this.rates[r]).divide(this.rates[t])}},{key:"format",value:function e(r,t){var e=this.formats[t];if(!e)throw new Error("Format ".concat(e," not available for currency conversion."));var n=r.format(t===this.baseCurrency?this.baseFormat:this.convertedFormat);return e.symbol&&(n=e.symbol+n),n=this.hideCodeForBase&&t==this.baseCurrency?"".concat(n):"".concat(n," ").concat(e.code),n}},{key:"getCurrency",value:function(){return this.currency}},{key:"setCurrency",value:function(e,r){this.checkCurrency(e),this.currency=e,store_legacy.set("currency",this.currency);var t=new URLSearchParams(window.location.search);return t.get("currency")&&t.delete("currency"),!1!==r&&(window.location.href=[window.location.protocol,"//",window.location.host,window.location.pathname,t.toString()?"?"+t.toString():null].join("")),this}},{key:"convertFormatted",value:function(e,r,t){return r||(r=this.baseCurrency),t||(t=this.currency),this.format(this.convert(this.parse(e),r,t),t)}},{key:"convertFormattedNodes",value:function(e,r,t){var n=this;return r||(r=this.baseCurrency),t||(t=this.currency),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),document.querySelectorAll(e).forEach(function(e){var r=n.parse(e.dataset.amount?e.dataset.amount:e.innerText),t=n.convert(r,n.defaultCurrency,n.currency);e.dataset.currency=n.currency,e.dataset.amount=r.value(),e.innerText=n.format(t,n.currency)}),this}},{key:"registerCurrencySelector",value:function(e){var r=this,t=document.querySelectorAll(e);if(!t)throw new Error("Node with selector \"".concat(e,"\" not found, could not register currency selector"));for(var n=0;n<t.length;++n)t[n].addEventListener("change",function(e){return r.setCurrency(e.target.value)}),t[n].value=this.currency;return this}}]),e}();return Argent});
